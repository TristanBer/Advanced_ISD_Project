<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced ISD Project</title>
        <link rel="stylesheet" href="/static/css/styles.css">
</head>

<body>
    <button id="dark-mode">Activate Dark Mode</button>
    <h1>Welcome to the webpage of TriMy!</h1>
    <p>This is a simple website hosted on PythonAnywhere</p>

    <!-- create link to statistics page -->
    <a href="/static/statistics.html">View Statistics</a>


    <!-- Restart button to start the game from scratch -->
    <div class="actions">
        <button onclick="restart()">Restart</button>
    </div>
    <div class="game-info">
        <div class="stats">Moves: <span id="moves">{{ game_state.moves }}</span></div>
        <div class="stats">Matches: <span id="matches">{{ game_state.matched_pairs }}</span> / <span id="total-pairs">{{ game_state.total_pairs }}</span></div>
    </div>

    <div class="memory-game" id="memory-game">
        {% for card in game_state.cards %}
        <div class="card {% if card.is_flipped %}flipped{% endif %} {% if card.is_matched %}matched{% endif %}" data-id="{{ card.id }}">
            <div class="front">{{ card.symbol }}</div>
            <div class="back"></div>
        </div>
        {% endfor %}
    </div>

    <div class="win-message" id="win-message" {% if game_state.game_completed %}style="display:block;"{% endif %}>
        Congratulations! You've completed the game!<br>
        Total moves: <span id="final-moves">{{ game_state.moves }}</span>
    </div>

    <div class="controls">
        <form method="POST" action="{{ url_for('new_game') }}">
            <button type="submit">Restart Game</button>
        </form>
    </div>